<!DOCTYPE html>
<html> 
  <head> 
        <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>  
	<title>Hobbinterface</title>
	<style type="text/css">
		table{
			border-spacing: 5px 5px;
		}
		hr{
			color: orange;
			height: 0px;
			border: 0px;
			border-bottom: 3px dashed orange;
		}
		td{
			vertical-align:top;
		}
		#scissors{
			position: relative;
			left: -765px;
			top: 26px;
		}
		.rtd{
			border: 1px solid black;
			background: #ffebc5;
			padding: 20px;
			border-radius: 10px;
                        line-height:200%;
		}
		.rtd a{
			color: green;
		}
  
                 #marker
                {
                        
			height: 1px;
                }

                 #joystick
                {
                        position:absolute;
                }
	</style>
   <script type="text/javascript">
   var mouseX = 0;
   var mouseY = 0; 
   var joyImageCenterX=215;
   var joyImageCenterY=615;

   var horizontalDistance = 80;
   var verticalDistance = 80;

   var joyImageCenterLeft=joyImageCenterX-horizontalDistance;
   var joyImageCenterRight=joyImageCenterX+horizontalDistance;
   var joyImageCenterTop=joyImageCenterY-verticalDistance;
   var joyImageCenterBottom=joyImageCenterY+verticalDistance;
   
  // document.addEventListener('mousemove', onMouseMove, false)


    //var canvas = document.getElementById("joypadCanvas");
    //canvas.addEventListener("mousemove", onMouseMove, false);

 

   function makeUniqueURLs()
   {  
     var links = document.links;
     var i = links.length;
     var randomnumber=Math.floor(Math.random()*100000);
     
     while (i--) 
     {
       links[i].href = links[i].href+"&t="+randomnumber;
     } 
   }

   function onMouseMove(e)
   { //clientX clientY
    mouseX = e.pageX;
    mouseY = e.pageY; 
   }


   function moveJoystick()
    {   
     
       var joypadX = 0 + mouseX;
       var joypadY = 0 + mouseY;
       var joyX = 0 + mouseX;
       var joyY = 0 + mouseY;

       if ( (joyX<10) || (joyY<10) )
         {
            joyX=joyImageCenterX;
            joyY=joyImageCenterY ;
         }
 
       if  (joyX<joyImageCenterLeft) { joyX=joyImageCenterLeft; } else
       if  (joyX>joyImageCenterRight) { joyX=joyImageCenterRight; }

       if  (joyY<joyImageCenterTop) { joyY=joyImageCenterTop; }
       if  (joyY<joyImageCenterBottom) { joyY=joyImageCenterBottom; }
 

       alert('Wanted to draw at '+joyX+','+joyY + ' Joypad at '+ joypadX + ',' + joypadY);
    }
   </script>

  </head>

 <body onload="makeUniqueURLs();">
  
  <center>
	<img src="header.png"/>
	<img src="scissors.png" id="scissors"/>
	<hr />
	
   <table id="content">
    <tr>
      <td> 

       <!-- NESTED BOX START -->
       <table>
        <tr>
         <td>

	<div class="rtd">
          <strong>HEAD</strong><br/>
          <a href="controlpanel.html?head=left">  Head Left</a><br/>
          <a href="controlpanel.html?head=center">Head Center</a><br/>
          <a href="controlpanel.html?head=right"> Head Right</a><br/><br/>

          <a href="controlpanel.html?head=up">    Head Up</a><br/>
          <a href="controlpanel.html?head=middle">Head Middle</a><br/>
          <a href="controlpanel.html?head=down">  Head Down</a><br/> <br/>
	</div> 
        </td>
        <td>

	<div class="rtd">
        <strong>COMMANDS</strong><br/>
        <a href="controlpanel.html?robot=clearfloor">  Clear Floor </a><br/> 
        <a href="controlpanel.html?bring=aspirin">  Bring Aspirin </a><br/> 
        <a href="controlpanel.html?bring=sugar">  Bring Sugar </a><br/> 
        <a href="controlpanel.html?robot=learnobject">  Learn Object </a><br/> 
        <a href="controlpanel.html?robot=helpme">  Help me </a><br/> 
        <a href="controlpanel.html?scenario=moveto1">Move To Start</a><br/><br/>

        <a href="controlpanel.html?hand=calibrate">  Calibrate Hand</a><br/>
	</div>

        </td>
       </tr>
       <tr>
        <td colspan=2>
           <div class="rtd">
            <center>
              <strong>MOVEMENT</strong><br/><br/>
   
    <!--  ------------------------------------------------------------------------------
                    THIS IS THE HTML5 CANVAS CODE FOR MAKING THE JOYSTICK WORK 
           ------------------------------------------------------------------------------   -->
<canvas id="joypadCanvas" width="160" height="160"></canvas>
    <script>
         var canvas = document.getElementById('joypadCanvas');
         var context = canvas.getContext('2d');
         var joypadObj = new Image();
         var joystickObj = new Image();
       


     function clearCanvas()
     {
       var context = canvas.getContext('2d');
       context.clearRect(0, 0, canvas.width, canvas.height); 
     }
 
      function getMousePos(canvas, evt) 
    {
        var rect = canvas.getBoundingClientRect();
        return {
          x: evt.clientX - rect.left,
          y: evt.clientY - rect.top
        };
      }

      function drawJoystick(canvas, x ,y , imageObj) 
      {
        var context = canvas.getContext('2d'); 
        clearCanvas(); 
        context.drawImage(joypadObj,  0 ,0);
        context.drawImage(joystickObj,  x ,y);
      }
 
      function init(imageObj) 
    {
        var padding = 10;
        var canvas = document.getElementById('joypadCanvas');
        var context = canvas.getContext('2d');
        var mouseDown = false;

        context.strokeStyle = '#444';
        context.lineWidth = 2;

        canvas.addEventListener('mousedown', function() {
          mouseDown = true;
        }, false);

        canvas.addEventListener('mouseup', function() {
          mouseDown = false;
        }, false);

        canvas.addEventListener('mousemove', function(evt) 
        {
          var mousePos = getMousePos(canvas, evt); 

          var x = mousePos.x - padding;
          var y = mousePos.y - padding; 
          drawJoystick(canvas, x,y, imageObj);
          if(mouseDown) 
              {
                 alert('Test '+x+','+y);
                 mouseDown=false;
              }
           
        }, false);


      }


       joypadObj.onload = function() { context.drawImage(joypadObj, 0, 0); init(this);  };
       joypadObj.src = 'joypad.png';


       joystickObj.onload = function() { context.drawImage(joystickObj, 52, 52); };
       joystickObj.src = 'joybtn.png';



                     </script>
                <br/>
                <a href="controlpanel.html?body=stop">STOP ALL MOVEMENT</a>
            </center>
           </div> 
        </td>
       </tr>
       </table> 
       <!-- NESTED BOX END -->
      </td>
      <td> 

	<div class="rtd">
        <strong>GENERIC</strong><br/>
        <a href="controlpanel.html?robot=yes"> Yes </a> &nbsp; &nbsp; &nbsp; / &nbsp; &nbsp;
        <a href="controlpanel.html?robot=no">  No </a><br/>
        <a href="controlpanel.html?robot=cancel"> Cancel </a><br/>
        <a href="controlpanel.html?robot=reward"> Reward </a><br/>
        <a href="controlpanel.html?robot=wake">  Hear My Name (C_WAKEUP) </a><br/> 
	<br/>        
        <a href="controlpanel.html?robot=stop"> Wake Up (C_STOP) </a><br/>
        <a href="controlpanel.html?robot=sleep">  Sleep </a><br/> 
        <a href="controlpanel.html?robot=openmic"> Open Mic </a><br/>
        <a href="controlpanel.html?robot=closemic">  Close Mic </a><br/>
        <a href="controlpanel.html?robot=call">  Call to Room </a><br/>
        <a href="controlpanel.html?robot=settings"> Settings </a><br/> 
	</div>


	<div class="rtd">
        <strong>BODY</strong><br/>
        <a href="controlpanel.html?base=left">  Move Left </a><br/> 
        <a href="controlpanel.html?base=right">  Move Right </a><br/>
        <a href="controlpanel.html?base=forward">  Move Forward </a><br/>
        <a href="controlpanel.html?base=back">  Move Back </a><br/>
	</div><br/>


      </td>
      <td> 
	<div class="rtd">
        <strong>READY TO DRINK POSES</strong><br/>
        <a href="controlpanel.html?rtd=home">Pose Home</a><br/>
        <a href="controlpanel.html?rtd=almosthome">Pose Almost Home</a><br/>
        <a href="controlpanel.html?rtd=armatside">Pose Arm At Side</a><br/>
        <a href="controlpanel.html?rtd=lowerlearn">Pose Lower Learn</a><br/>
        <a href="controlpanel.html?rtd=tablepregrasp">Pose Table Pregrasp</a><br/>
        <a href="controlpanel.html?rtd=tablefinalgrasp">Pose Table Final Grasp</a><br/>
        <a href="controlpanel.html?rtd=trayprerelease">Pose Tray Pre Release</a><br/>
        <a href="controlpanel.html?rtd=trayrelease">Pose Tray Release</a><br/>
        <a href="controlpanel.html?rtd=clearfloorpregrasp">Pose Clear Floor Pregrasp</a><br/>
        <a href="controlpanel.html?rtd=clearfloorfinalgrasp">Pose Clear Floor Final Grasp</a><br/>
        <a href="controlpanel.html?rtd=cfaftergrasp">Pose Clear Floor After Grasp</a><br/>
        <strong>READY TO DRINK COMMANDS</strong><br/>
        <a href="controlpanel.html?rtd=opengripper">Open Gripper</a><br/>
        <a href="controlpanel.html?rtd=closegripper">Close Gripper</a><br/>
        <a href="controlpanel.html?rtd=closegripper">Disable All Axis</a><br/>
        <strong>READY TO DRINK SEQUENCES</strong><br/>
        <a href="controlpanel.html?rtd=graspfromtable">Grasp From the Table</a><br/>
        <a href="controlpanel.html?rtd=graspfromfloor">Grasp From the Floor</a><br/>
	</div><br/>
      </td>
    </tr>

    <!--tr>
      <td colspan=10> 
        <br/><br/> 
        &nbsp;
      </td>
    </tr-->

    <tr>
      <td colspan=10><center>
       <form action="controlpanel.html" accept-charset="utf-8" >
        Speech : <input type="text" name="say"> <input type="submit" value="Say It">
       </form></center>
      </td>
    </tr>




   </table>
	<br/>
	<hr/><br/>

	<a href="controlpanel.html?nothing=true"> <h3>Click here to refresh neutral url</h3></a>



  </center> 
 </body>
</html>

